{"version":3,"sources":["webpack:///./node_modules/core-js/modules/_strict-method.js","webpack:///./src/views/remoteWorkMonitoring/components/remoteWorkMap.vue?fc79","webpack:///src/views/remoteWorkMonitoring/components/remoteWorkMap.vue","webpack:///./src/views/remoteWorkMonitoring/components/remoteWorkMap.vue?83ef","webpack:///./src/views/remoteWorkMonitoring/components/remoteWorkMap.vue","webpack:///./node_modules/core-js/modules/es6.array.sort.js","webpack:///./src/views/remoteWorkMonitoring/components/remoteWorkMap.vue?3786"],"names":["fails","module","exports","method","arg","call","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","title","dialogVisible","on","$event","closed","directives","name","rawName","value","expression","_v","_s","loginNo1","list1","IS_OVERTIME_COUNT","loginNo2","list2","ref","id","staticRenderFns","mixins","data","Math","random","charts","area","code","windows","loading","mapData","mapDataMax","watch","created","mounted","init","getMapDetail","methods","deepCopy","key","obj1","item","Array","obj2","getDetail","window","console","log","getAllAreaCode","$this","Object","keys","res","forEach","indexOf","getOrgTranslate","then","timeStr","a","b","translateMap","transDealData","push","transData","e2","e","orgNo","backData","i","isLiangPing","isRongChang","getPowerDetail","getPowerCompany","$parent","dateParams","length","IS_REPAIR","names","properties","cp","mergeProvinces","params","isinside","setOption","visualMap","min","max","text","realtime","calculable","bottom","inRange","color","textStyle","geo","series","features","geojson","polygons","iLen","j","jLen","concat","geometry","coordinates","splice","feature","type","component","$export","aFunction","toObject","$sort","sort","test","P","F","undefined","comparefn"],"mappings":"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","file":"js/chunk-20e74a9d.4abf6393.js","sourcesContent":["'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"map-style\"},[_c('el-dialog',{attrs:{\"title\":_vm.title,\"center\":\"\",\"show-close\":true,\"visible\":_vm.dialogVisible,\"close-on-click-modal\":false,\"width\":\"26%\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event},\"closed\":_vm.closed}},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"conBox\"},[_c('div',{staticClass:\"left\"},[_c('table',{attrs:{\"border\":\"\"}},[_c('tr',{staticClass:\"first\"},[_c('td',{attrs:{\"colspan\":\"2\"}},[_vm._v(\"营销专业管理室\")])]),_c('tr',[_c('td',[_vm._v(\"登录人数\")]),_c('td',{staticClass:\"first2\"},[_vm._v(_vm._s(_vm.loginNo1 || 0))])]),_c('tr',[_c('td',[_vm._v(\"非抢修工单总量\")]),_c('td',{staticClass:\"first2\"},[_vm._v(\"\\n              \"+_vm._s(_vm.list1[0].IS_OVERTIME_COUNT ||\n                0 + _vm.list1[1].IS_OVERTIME_COUNT ||\n                0)+\"\\n            \")])]),_c('tr',[_c('td',[_vm._v(\"未超时\")]),_c('td',{staticClass:\"first2\"},[_vm._v(_vm._s(_vm.list1[0].IS_OVERTIME_COUNT || 0))])]),_c('tr',[_c('td',[_vm._v(\"已超时\")]),_c('td',{staticClass:\"first2\"},[_vm._v(_vm._s(_vm.list1[1].IS_OVERTIME_COUNT || 0))])])])]),_c('div',{staticClass:\"right\"},[_c('table',{attrs:{\"border\":\"\"}},[_c('tr',{staticClass:\"first\"},[_c('td',{attrs:{\"colspan\":\"2\"}},[_vm._v(\"配网抢修指挥班\")])]),_c('tr',[_c('td',[_vm._v(\"登录人数\")]),_c('td',{staticClass:\"first2\"},[_vm._v(_vm._s(_vm.loginNo2 || 0))])]),_c('tr',[_c('td',[_vm._v(\"抢修工单总量\")]),_c('td',{staticClass:\"first2\"},[_vm._v(\"\\n              \"+_vm._s(_vm.list2[0].IS_OVERTIME_COUNT ||\n                0 + _vm.list2[1].IS_OVERTIME_COUNT ||\n                0)+\"\\n            \")])]),_c('tr',[_c('td',[_vm._v(\"未超时\")]),_c('td',{staticClass:\"first2\"},[_vm._v(_vm._s(_vm.list2[0].IS_OVERTIME_COUNT || 0))])]),_c('tr',[_c('td',[_vm._v(\"已超时\")]),_c('td',{staticClass:\"first2\"},[_vm._v(_vm._s(_vm.list2[1].IS_OVERTIME_COUNT || 0))])])])]),_c('div',{staticClass:\"clear\"})])]),_c('div',{ref:\"refMap\",staticClass:\"charts-style\",attrs:{\"id\":_vm.id}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"map-style\">\r\n    <el-dialog\r\n      :title=\"title\"\r\n      center\r\n      :show-close=\"true\"\r\n      :visible.sync=\"dialogVisible\"\r\n      :close-on-click-modal=\"false\"\r\n      @closed=\"closed\"\r\n      width=\"26%\"\r\n    >\r\n      <div class=\"conBox\" v-loading=\"loading\">\r\n        <div class=\"left\">\r\n          <table border v-cloak>\r\n            <tr class=\"first\">\r\n              <td colspan=\"2\">营销专业管理室</td>\r\n            </tr>\r\n            <tr>\r\n              <td>登录人数</td>\r\n              <td class=\"first2\">{{ loginNo1 || 0 }}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>非抢修工单总量</td>\r\n              <td class=\"first2\">\r\n                {{\r\n                  list1[0].IS_OVERTIME_COUNT ||\r\n                  0 + list1[1].IS_OVERTIME_COUNT ||\r\n                  0\r\n                }}\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>未超时</td>\r\n              <td class=\"first2\">{{ list1[0].IS_OVERTIME_COUNT || 0 }}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>已超时</td>\r\n              <td class=\"first2\">{{ list1[1].IS_OVERTIME_COUNT || 0 }}</td>\r\n            </tr>\r\n          </table>\r\n        </div>\r\n        <div class=\"right\">\r\n          <table border>\r\n            <tr class=\"first\">\r\n              <td colspan=\"2\">配网抢修指挥班</td>\r\n            </tr>\r\n            <tr>\r\n              <td>登录人数</td>\r\n              <td class=\"first2\">{{ loginNo2 || 0 }}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>抢修工单总量</td>\r\n              <td class=\"first2\">\r\n                {{\r\n                  list2[0].IS_OVERTIME_COUNT ||\r\n                  0 + list2[1].IS_OVERTIME_COUNT ||\r\n                  0\r\n                }}\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>未超时</td>\r\n              <td class=\"first2\">{{ list2[0].IS_OVERTIME_COUNT || 0 }}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>已超时</td>\r\n              <td class=\"first2\">{{ list2[1].IS_OVERTIME_COUNT || 0 }}</td>\r\n            </tr>\r\n          </table>\r\n        </div>\r\n        <div class=\"clear\"></div>\r\n      </div>\r\n    </el-dialog>\r\n    <div class=\"charts-style\" :id=\"id\" ref=\"refMap\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport echarts from 'echarts';\r\nimport JSON from './map.json';\r\nimport 'echarts-gl';\r\nimport qs from 'qs';\r\nimport Interface from \"../../../base/mixin/service-index-control\";\r\n\r\nexport default {\r\n  name: \"remoteWorkMap\",\r\n  mixins: [Interface],\r\n  data() {\r\n    return {\r\n      id: Math.random() + '_',\r\n      charts: null,\r\n      area: '',//点击地图区域\r\n      code: '',//点击地图区域的编码\r\n      dialogVisible: false,\r\n      list1: [{ IS_OVERTIME_COUNT: 0 }, { IS_OVERTIME_COUNT: 0 }],//营销专业\r\n      loginNo1: '',//营销专业登录人数\r\n      list2: [{ IS_OVERTIME_COUNT: 0 }, { IS_OVERTIME_COUNT: 0 }],//配网抢修\r\n      loginNo2: '',//配网抢修登录人数\r\n      windows: false,\r\n      loading: true,\r\n      title: '供电分公司',\r\n      mapData: [],\r\n      mapDataMax: 0\r\n    }\r\n  },\r\n  watch: {},\r\n  created() {\r\n  },\r\n  mounted() {\r\n    this.init();\r\n    this.getMapDetail()\r\n  },\r\n  methods: {\r\n    /**\r\n     * 深度拷贝公用方法\r\n     *\r\n     * **/\r\n    deepCopy(obj1, obj2) {\r\n      for (var key in obj1) {\r\n        var item = obj1[key]\r\n        if (item instanceof Array) { //深度遍历，如果对象里面是数组\r\n          obj2[key] = []\r\n          this.deepCopy(item, obj2[key])\r\n        } else if (item instanceof Object) { //深度遍历，如果对象里面是对象\r\n          obj2[key] = {}\r\n          this.deepCopy(item, obj2[key])\r\n        } else {   //基本数据类型拷贝\r\n          obj2[key] = obj1[key];\r\n        }\r\n      }\r\n    },\r\n    closed() {\r\n      this.area = ''\r\n      this.title = '供电分公司'\r\n      this.loading = 'true'\r\n    },\r\n    getDetail() {\r\n      window.console.log(this.area, 'this.area');\r\n      let $this = this;\r\n      this.dialogVisible = true\r\n      this.getAllAreaCode(qs.stringify({})).then(res => {\r\n        $this.title = this.area + '供电分公司'\r\n        Object.keys(res).forEach(key => {\r\n          if ($this.area.indexOf(res[key]) != -1) {\r\n            $this.code = key\r\n          }\r\n        })\r\n        // if (this.area === '主城区') {\r\n        //   this.code = '主城区'\r\n        // }\r\n        this.getPowerDetail()\r\n      }).catch(() => {\r\n        // this.zrgsRes=true;\r\n      });\r\n    },\r\n    /** 获取地图数据  */\r\n    getMapDetail() {\r\n      this.getOrgTranslate({}).then(res1 => {\r\n        this.orgTranslate = res1;\r\n        this.getBusinessMapSummaryData(qs.stringify({\r\n          timeStr: this.$parent.dateParams,\r\n        })\r\n        ).then(res2 => {\r\n          this.mapData = this.translateMap(res2, this.orgTranslate);\r\n          this.mapData.sort((a, b) => {\r\n            return a.value - b.value\r\n          })\r\n          this.mapDataMax = this.mapData[this.mapData.length - 1].value\r\n          window.console.log(this.mapDataMax, 'this.mapDataMax');\r\n          this.init();\r\n        });\r\n      })\r\n    },\r\n\r\n    /** 转移地图编码*/\r\n    translateMap(data, transData) {\r\n      let backData = []\r\n      let transDealData = []\r\n      for (let key in transData) {\r\n        transDealData.push({\r\n          name: transData[key],\r\n          value: key,\r\n          indexOf: false\r\n        })\r\n      }\r\n      data.forEach((e, i) => {\r\n        transDealData.forEach(e2 => {\r\n          if (e2.value === e.orgNo) {\r\n            backData.push({\r\n              name: e2.name,\r\n              value: data[i]['sum(cc)'] || 0\r\n            })\r\n            e2.indexOf = true\r\n          }\r\n        })\r\n      })\r\n      // data.forEach(e => {\r\n      //   if (e.orgNo === '主城区') {\r\n      //     backData.push({\r\n      //       name: '主城区',\r\n      //       value: e['sum(cc)'] || 0\r\n      //     })\r\n      //   }\r\n      // })\r\n      transDealData.forEach(e => {\r\n        if (!e.indexOf) {\r\n          backData.push({\r\n            name: e.name,\r\n            value: 0\r\n          })\r\n        }\r\n      })\r\n      let isRongChang = false\r\n      let isLiangPing = false\r\n      backData.forEach(e => {\r\n        if (e.name === '荣昌') {\r\n          isRongChang = true\r\n          return\r\n        }\r\n        if (e.name === '梁平') {\r\n          isLiangPing = true\r\n          return\r\n\r\n        }\r\n      })\r\n      if (!isRongChang) {\r\n        backData.push(\r\n          {\r\n            name: '荣昌',\r\n            value: 0,\r\n          })\r\n      }\r\n      if (!isLiangPing) {\r\n        backData.push(\r\n          {\r\n            name: '梁平',\r\n            value: 0,\r\n          })\r\n      }\r\n\r\n      return backData\r\n    },\r\n    getPowerDetail() {\r\n      this.getPowerCompany(qs.stringify({\r\n        timeStr: this.$parent.dateParams,\r\n        orgNo: this.code,\r\n      }\r\n      )).then(res => {\r\n        if (res && res.length !== 0) {\r\n          res.forEach((item) => {\r\n            if (item.IS_REPAIR == 1) {\r\n              this.deepCopy(item.COUNT, this.list2)\r\n              this.loginNo2 = item.LOGIN_COUNT\r\n\r\n            } else {\r\n              this.deepCopy(item.COUNT, this.list1)\r\n              this.loginNo1 = item.LOGIN_COUNT\r\n            }\r\n          })\r\n          window.console.log(this.list1, this.list2, 'list2');\r\n          this.loading = false;\r\n          // this.windows =true\r\n        }\r\n      });\r\n    },\r\n    init() {\r\n      let params1 = {\r\n        names: [\r\n          \"市区\",\r\n          \"大渡口\",\r\n          \"九龙\",\r\n          \"沙坪\",\r\n          \"渝中\",\r\n        ],\r\n        properties: {\r\n          name: \"市区\",\r\n          cp: [106.368212,\r\n            29.624503]\r\n        }\r\n      }\r\n      let params2 = {\r\n        names: [\r\n          \"江北\",\r\n          \"渝北\",\r\n        ],\r\n        properties: {\r\n          name: \"市北\",\r\n          cp: [106.746924,\r\n            29.810209]\r\n        }\r\n      }\r\n      let params3 = {\r\n        names: [\r\n          \"南岸\",\r\n          \"巴南\",\r\n        ],\r\n        properties: {\r\n          name: \"市南\",\r\n          cp: [106.751731,\r\n            29.371851]\r\n        }\r\n      }\r\n      let params4 = {\r\n        names: [\r\n          \"荣昌\",\r\n          \"永川\",\r\n        ],\r\n        properties: {\r\n          name: \"永川\",\r\n          cp: [\r\n            // 105.872859,\r\n            // 29.290183\r\n            105.702859,\r\n            29.300183\r\n          ]\r\n        }\r\n      }\r\n      let params5 = {\r\n        names: [\r\n          \"梁平\",\r\n          \"万州\",\r\n        ],\r\n        properties: {\r\n          name: \"万州\",\r\n          cp: [\r\n            // 108.406819,\r\n            // 30.704054\r\n            108.056819,\r\n            30.704054\r\n          ]\r\n        }\r\n      }\r\n      this.mergeProvinces(JSON, params1.names, params1.properties)\r\n      this.mergeProvinces(JSON, params2.names, params2.properties)\r\n      this.mergeProvinces(JSON, params3.names, params3.properties)\r\n      this.mergeProvinces(JSON, params4.names, params4.properties)\r\n      this.mergeProvinces(JSON, params5.names, params5.properties)\r\n      let chartsDom = document.getElementById(this.id);\r\n      this.charts = echarts.init(chartsDom);\r\n      echarts.registerMap('重庆', JSON);\r\n      var $this = this;\r\n      this.charts.on('click', function (params) {\r\n        window.console.log(params, 'params');\r\n        $this.area = params.name\r\n        let isinside = $this.$refs.refMap.children[0].style.cursor;\r\n        if ($this.area !== '' && $this.area !== '荣昌' && $this.area !== '梁平' && $this.area && isinside == \"pointer\") {\r\n          $this.getDetail()\r\n        }\r\n      });\r\n      this.charts.setOption({\r\n        visualMap: {\r\n          min: 0,\r\n          max: $this.mapDataMax,\r\n          text: ['多', '少'],\r\n          realtime: false,\r\n          calculable: false,\r\n          bottom: 20,\r\n          inRange: {\r\n            color: ['#237FE7', '#14EFC3']\r\n          },\r\n          textStyle: {\r\n            color: '#fff'\r\n          }\r\n        },\r\n        geo: [\r\n          {\r\n            map: '重庆',\r\n            roam: false,\r\n            zoom: 1.1,\r\n            zlevel: 2,\r\n            z: 1,\r\n            aspectScale: 1,\r\n            label: {\r\n              show: true,\r\n              color: '#fff',\r\n              fontFamily: 'Noto Sans SC',\r\n              emphasis: {\r\n                color: '#fff',\r\n              },\r\n              position: {\r\n                // bottom: '-100px',\r\n              },\r\n              // distance: 100\r\n            },\r\n            regions: [      //对不同的区块进行着色\r\n              // {\r\n              //   name: '主城区', //区块名称\r\n              //   label: {\r\n              //     color: '#FFFB50',\r\n              //   }\r\n              // },\r\n              {\r\n                name: '潼南', //区块名称\r\n                label: {\r\n                  color: '#FFFB50',\r\n                }\r\n              },\r\n              {\r\n                name: '合川', //区块名称\r\n                label: {\r\n                  color: '#FFFB50',\r\n                }\r\n              },\r\n              {\r\n                name: '铜梁', //区块名称\r\n                label: {\r\n                  color: '#FFFB50',\r\n                }\r\n              },\r\n              {\r\n                name: '大足', //区块名称\r\n                label: {\r\n                  color: '#FFFB50',\r\n                }\r\n              },\r\n              {\r\n                name: '璧山', //区块名称\r\n                label: {\r\n                  color: '#FFFB50',\r\n                }\r\n              },\r\n              {\r\n                name: '永川', //区块名称\r\n                label: {\r\n                  color: '#FFFB50',\r\n                }\r\n              },\r\n              {\r\n                name: '江津区', //区块名称\r\n                label: {\r\n                  color: '#FFFB50',\r\n                }\r\n              },\r\n              {\r\n                name: '綦南', //区块名称\r\n                label: {\r\n                  color: '#FFFB50',\r\n                }\r\n              },\r\n              {\r\n                name: '南川', //区块名称\r\n                label: {\r\n                  color: '#FFFB50',\r\n                }\r\n              },\r\n              {\r\n                name: '北碚', //区块名称\r\n                label: {\r\n                  color: '#FFFB50',\r\n                }\r\n              },\r\n\r\n              {\r\n                name: '市区', //区块名称\r\n                label: {\r\n                  color: '#FFFB50',\r\n\r\n                },\r\n              },\r\n              {\r\n                name: '市南', //区块名称\r\n                label: {\r\n                  color: '#FFFB50',\r\n\r\n                },\r\n              },\r\n              {\r\n                name: '市北', //区块名称\r\n                label: {\r\n                  color: '#FFFB50',\r\n\r\n                },\r\n              },\r\n              {\r\n                name: '荣昌', //区块名称\r\n                label: {\r\n                  show: false,\r\n\r\n                },\r\n                emphasis: {\r\n                  label: {\r\n                    show: false,\r\n                  },\r\n                }\r\n\r\n              },\r\n              {\r\n                name: '梁平', //区块名称\r\n                label: {\r\n                  show: false,\r\n                },\r\n                emphasis: {\r\n                  label: {\r\n                    show: false,\r\n                  },\r\n                }\r\n\r\n              },\r\n\r\n            ],\r\n            itemStyle: {\r\n              //   normal: {\r\n              //     areaColor: '#237fe7',\r\n              //     borderWidth: 1,\r\n              //     borderType: 'dotted',\r\n              //     borderColor: '#003C80',\r\n\r\n              //   },\r\n              emphasis: {\r\n                color: '#00D9FF',\r\n              }\r\n            },\r\n\r\n          },\r\n          {\r\n            map: '重庆',\r\n            roam: false,\r\n            zoom: 1.1,\r\n            zlevel: 1,\r\n            z: 1,\r\n            aspectScale: 1,\r\n            label: {\r\n              normal: {\r\n                show: false\r\n              },\r\n              emphasis: {\r\n                show: false\r\n              }\r\n            },\r\n            itemStyle: {\r\n              normal: {\r\n                borderColor: '#013a67',\r\n                borderWidth: 2,\r\n                areaColor: '#0aade4',\r\n                shadowColor: 'rgba(1,58,101, 1)',\r\n                shadowBlur: 0,\r\n                shadowOffsetX: -1,\r\n                shadowOffsetY: 21\r\n\r\n              },\r\n              emphasis: {\r\n                borderWidth: 1,\r\n                areaColor: '#00194d',\r\n                borderColor: '#00194d'\r\n              }\r\n            }\r\n          },\r\n        ],\r\n        series: [\r\n          {\r\n            name: '',\r\n            type: 'map',\r\n            mapType: '重庆', // 自定义扩展图表类型\r\n            geoIndex: 0,\r\n\r\n            data: $this.mapData,\r\n            // 自定义名称映射\r\n          }\r\n        ]\r\n      })\r\n    },\r\n    //合并地图\r\n    mergeProvinces(geojson, names, properties) {\r\n      var features = geojson.features;\r\n      var polygons = [];\r\n      // 将指定省的polygon保存下来，并将省的数据从地图中删除\r\n      for (var i = 0, iLen = names.length; i < iLen; i++) {\r\n        for (var j = 0, jLen = features.length; j < jLen; j++) {\r\n          if (features[j].properties.name == names[i]) {\r\n            polygons = polygons.concat(features[j].geometry.coordinates);\r\n            features.splice(j, 1);\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      // 构建新的合并区域\r\n      var feature = {\r\n        type: \"Feature\",\r\n        id: \"\" + features.length,\r\n        properties: {\r\n          name: properties.name || \"\"\r\n        },\r\n        geometry: {\r\n          type: \"MultiPolygon\",\r\n          coordinates: polygons\r\n        }\r\n      };\r\n      if (properties.cp) {\r\n        feature.properties.cp = properties.cp;\r\n      }\r\n\r\n      // 将新的合并区域添加到地图中\r\n      features.push(feature);\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n[v-cloak] {\r\n  display: none;\r\n}\r\n\r\n.map-style {\r\n  width: 100%;\r\n  height: 100%;\r\n  position: relative;\r\n\r\n  .charts-style {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n}\r\n\r\n/deep/ .el-dialog {\r\n  background-color: rgba(0, 0, 0, 0);\r\n}\r\n\r\n/deep/ .el-dialog__header {\r\n  padding: 10px;\r\n  background: linear-gradient(to top, #3c7f97, #68bdc1);\r\n}\r\n\r\n/deep/ .el-dialog__title {\r\n  color: #232323;\r\n}\r\n\r\n/deep/ .el-dialog .el-dialog__body {\r\n  padding: 0px;\r\n}\r\n\r\n.conBox {\r\n  width: 100%;\r\n  background-color: rgba(60, 127, 151, 0.6);\r\n  padding-top: 10px;\r\n\r\n  table {\r\n    height: 100%;\r\n    width: 100%;\r\n    border-color: #68bdc1;\r\n    color: #fff;\r\n    text-align: center;\r\n\r\n    td {\r\n      padding: 4px;\r\n    }\r\n\r\n    .first {\r\n      background-color: #092b57;\r\n    }\r\n\r\n    .first2 {\r\n      background-color: #2b4b6f;\r\n    }\r\n  }\r\n\r\n  .left {\r\n    width: 47%;\r\n    min-height: 160px;\r\n    float: left;\r\n  }\r\n\r\n  .right {\r\n    width: 47%;\r\n    min-height: 160px;\r\n    float: right;\r\n  }\r\n\r\n  .clear {\r\n    clear: both;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./remoteWorkMap.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./remoteWorkMap.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./remoteWorkMap.vue?vue&type=template&id=07a84663&scoped=true&\"\nimport script from \"./remoteWorkMap.vue?vue&type=script&lang=js&\"\nexport * from \"./remoteWorkMap.vue?vue&type=script&lang=js&\"\nimport style0 from \"./remoteWorkMap.vue?vue&type=style&index=0&id=07a84663&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"07a84663\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./remoteWorkMap.vue?vue&type=style&index=0&id=07a84663&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./remoteWorkMap.vue?vue&type=style&index=0&id=07a84663&scoped=true&lang=scss&\""],"sourceRoot":""}