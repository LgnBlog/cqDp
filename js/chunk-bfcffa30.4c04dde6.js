(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bfcffa30"],{1167:function(a,t,r){},"79ba":function(a,t,r){"use strict";r.r(t);var s=function(){var a=this,t=a.$createElement,r=a._self._c||t;return r("div",{staticClass:"total_traffic"},[r("div",{staticClass:"total_traffic_number"},[r("div",{staticClass:"title"},[a._v("总业务量")]),r("div",{staticClass:"title-count"},[r("span",[a._v(a._s(a.ywCountNum)+"件")])]),r("div",{directives:[{name:"loading",rawName:"v-loading",value:!a.resYwCharts,expression:"!resYwCharts"}],staticClass:"charts-main",attrs:{"element-loading-background":"rgba(0, 0, 0, 0.2)","element-loading-text":"加载中"}},[a.resYwRCharts&&0!==a.barChartsData1.dataMap.length?r("bda-progress-charts",{staticClass:"bar-charts",attrs:{barChartsData:a.barChartsData1}}):a._e(),r("div",{staticClass:"count"},[r("span",[a._v("已完成"+a._s(a.repairDone)+"件")]),r("span",[a._v("抢修类"+a._s(a.repairTotal)+"件")]),r("span",[a._v("未完成"+a._s(a.repairUndone)+"件")])]),a.resYwRCharts&&0!==a.barChartsData1.dataMap.length?r("bda-progress-charts",{staticClass:"bar-charts",attrs:{barChartsData:a.barChartsData2}}):a._e(),r("div",{staticClass:"count"},[r("span",[a._v("已完成"+a._s(a.unrepairDone)+"件")]),r("span",[a._v("非抢修类"+a._s(a.unrepairTotal)+"件")]),r("span",[a._v("未完成"+a._s(a.unrepairUndone)+"件")])])],1)]),r("div",{staticClass:"total_traffic_ratio"},[r("div",{staticClass:"title"},[a._v("总业务量占比")]),r("div",{directives:[{name:"loading",rawName:"v-loading",value:!a.resYwRCharts,expression:"!resYwRCharts"}],staticClass:"charts-main",attrs:{"element-loading-background":"rgba(0, 0, 0, 0.2)","element-loading-text":"加载中"}},[a.resYwRCharts?r("bda-pie-charts",{attrs:{pieChartsData:a.pieChartsData,roseType:!1,labelHide:!0,radius:["40%","80%"],center:["center","55%"],minAngle:25}}):a._e()],1)])])},e=[],i=(r("7f7f"),r("ac4d"),r("8a81"),r("ac6a"),r("13dd")),n=r("5367"),o=function(){var a=this,t=a.$createElement,r=a._self._c||t;return r("div",{staticClass:"bar-style"},[r("div",{staticClass:"charts",attrs:{id:a.id}})])},c=[],h=r("75fc"),l=r("313e"),d=r.n(l),u={name:"bda-progress-charts",props:{barChartsData:{type:Object,default:function(){return{}}}},data:function(){return{id:Math.random()+"_",barData:[],series:[]}},watch:{},created:function(){},mounted:function(){this.dataFilter(this.barChartsData),this.init()},methods:{dataFilter:function(a){window.console.log(a,"data");var t=[],r=Object(h["a"])(a.color);if(window.console.log(r,"data.color"),a.dataMap){this.barData=Object(h["a"])(a.dataMap);var s=this.barData;t=[{type:"bar",stack:"chart",barWidth:100,itemStyle:{normal:{color:new d.a.graphic.LinearGradient(0,0,1,0,[{offset:0,color:"#019eff"},{offset:1,color:"#00FFD4"}])}},data:[s[0]]},{type:"bar",stack:"chart",silent:!0,itemStyle:{normal:{color:"rgba(0, 80, 179,0.3)"}},data:[s[1]]}],this.series=t}},init:function(){var a=document.getElementById(this.id),t=d.a.init(a),r={xAxis:[{type:"value",max:this.barData[0]+this.barData[1],show:!1}],yAxis:[{type:"category",show:!1}],series:this.series};window.console.log(r,"options"),t.setOption(r)}}},f=u,p=(r("f88d"),r("2877")),C=Object(p["a"])(f,o,c,!1,null,"268d8db4",null),b=C.exports,v={name:"total",mixins:[i["a"]],components:{bdaPieCharts:n["a"],bdaProgressCharts:b},props:{},data:function(){return{pieChartsData:{},resYwRCharts:!1,repairDone:0,repairUndone:0,repairTotal:0,unrepairDone:0,unrepairUndone:0,unrepairTotal:0,ywCountNum:0,barChartsData1:{dataMap:[]},barChartsData2:{},resYwCharts:!1,gdTitle:"主城渝西",gdCount:0,rightDataMap:{"抢修类业务量":0,"非抢修类业务量":0}}},watch:{},created:function(){var a=this;this.getTotalVolume({dimensionality:this.$parent.dateType,timeStr:this.$parent.dateParams}).then((function(t){0!==t.length&&a.zywlFilter(t)})).catch((function(){a.resYwCharts=!0})),this.totalVolumeForType({dimensionality:this.$parent.dateType,timeStr:this.$parent.dateParams}).then((function(t){0!==t.length&&a.zywlRatio(t)})).catch((function(){a.resYwRCharts=!0}))},mounted:function(){},methods:{zywlFilter:function(a){var t=this;this.resYwCharts=!1;var r={},s=[],e={0:"未完成",1:"已完成"},i={0:"非抢修",1:"抢修类"};if(a&&0!==a.length){var n=!0,o=!1,c=void 0;try{for(var h,l=a[Symbol.iterator]();!(n=(h=l.next()).done);n=!0){var d=h.value;d.name=e[d.isdone],r[i[d.isrepair]]?r[i[d.isrepair]].push(d):r[i[d.isrepair]]=[d]}}catch(_){o=!0,c=_}finally{try{n||null==l.return||l.return()}finally{if(o)throw c}}var u=0;if(r)for(var f in r){var p={name:f,id:Math.random()+"_"};if(r[f]){var C=!0,b=!1,v=void 0;try{for(var m,w=r[f][Symbol.iterator]();!(C=(m=w.next()).done);C=!0){var D=m.value;u+=D.sum}}catch(_){b=!0,v=_}finally{try{C||null==w.return||w.return()}finally{if(b)throw v}}}p.children=r[f],s.push(p)}var g=[],y=[];s[0].children.forEach((function(a){g.push(a.sum)})),s[1].children.forEach((function(a){y.push(a.sum)})),this.barChartsData1={dataMap:g,color:["#00E2FF","#0074FF"]},this.barChartsData2={dataMap:y,color:["#00FEBB","#00BDFA"]},this.ywCountNum=u,window.console.log(this.barChartsData1,"barChartsData1"),window.console.log(this.barChartsData2,"barChartsData2"),this.repairDone=this.barChartsData1.dataMap[0]||0,this.repairUndone=this.barChartsData1.dataMap[1]||0,this.repairTotal=(this.barChartsData1.dataMap[0]||0)+(this.barChartsData1.dataMap[1]||0),this.unrepairDone=this.barChartsData2.dataMap[0]||0,this.unrepairUndone=this.barChartsData2.dataMap[1]||0,this.unrepairTotal=(this.barChartsData2.dataMap[0]||0)+(this.barChartsData2.dataMap[1]||0),this.$nextTick((function(){t.resYwCharts=!0}))}},zywlRatio:function(a){var t=this;if(a&&0!==a.length){var r=a.filter((function(a){return 0!==a.ccsum})).map((function(a){return{value:a.ccsum,name:a.name}})),s=["#0091fe","#00c4ff","#2dfaff","#49ea8a","#69fea4","#a3ff90","#e2ff7e","#ffca6a","#fd8e00","#cc3426","#cf4d89","#c2aac0"];this.pieChartsData={dataMap:r,color:s}}this.$nextTick((function(){t.resYwRCharts=!0}))}}},m=v,w=(r("ffcc"),Object(p["a"])(m,s,e,!1,null,"4571aec0",null));t["default"]=w.exports},e498:function(a,t,r){},f88d:function(a,t,r){"use strict";var s=r("1167"),e=r.n(s);e.a},ffcc:function(a,t,r){"use strict";var s=r("e498"),e=r.n(s);e.a}}]);
//# sourceMappingURL=chunk-bfcffa30.4c04dde6.js.map